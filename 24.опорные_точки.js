(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{2686:function(t,e){t.exports='<div>\n    <label class="reactPrompt">React</label>\n</div>\n<div class="reactBarContainer">\n</div>'},2687:function(t,e){t.exports='<ul class="nav nav-colors">\n    <li class="pull-right button-pad"> \n        <div id="colorPaletteList" class="colorPaletteListRegion pull-right">\n        </div>\n    </li>   \n</ul>\n'},2688:function(t,e){t.exports='<div class="controller-content">\n    <div class="canvas-container">\n        <div id="prompt" class="prompt"></div>\n        <div id="toolbar" class="toolbar"></div>\n        <div id="sketchpad"></div>\n        <div id="input" class="textInput"></div>\n        <div id="buttons" class="buttons"></div>\n        <div id="post-sketchpad" class="post-sketchpad">\n            <div id="submit">\n                <button id=\'submitdrawing\' class="button submitDrawing">Отправить</button><br/>\n            </div>\n            <button id=\'censorOptions\' class=\'button\'>Параметры Цензуры</button>\n            <div class="footer"></div>\n        </div>\n        </div>\n    </div>\n</div>\n'},2689:function(t,e,n){t.exports='<div class="canvasContainer">\n    <video id="cameraVideo" class="cameraVideo" autoplay playsinline class=""></video>\n    <canvas id=\'cameraCanvas\' class="cameraCanvas resizableCanvas" width="300px" height="408px" class=""></canvas>\n    <img id="cameraImage" class="cameraImage visuallyhidden" />\n</div>\n<div class="cameraControls">\n    <button id="exitButton" class="button exitButton" aria-label="Выйти"></button>\n    <div class="buttons pre">\n        <button id="switchButton" class="button switchButton" aria-label="Switch Камера"></button>\n        <button id="snapshotButton" class="button snapshotButton" aria-label="Сделать снимок"></button>\n    </div>\n    <div class="buttons post">\n        <button id="cancelButton" class="button cancelButton" aria-label="Отмена"></button>\n        <button id="confirmButton" class="button confirmButton" aria-label="Confirm">ОСТАВЬ ЭТО</button>\n    </div>\n</div>\n<div style="display:none;">\n    <img id="Mask" src=\''+n(2690)+"' />\n</div>"},2690:function(t,e,n){t.exports=n.p+"images/ced49ff94fdc5a30e7530f43127debc0.png"},2691:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return f}));var i=n(22),o=n.n(i),s=n(41),a=n.n(s),r=n(31),l=n.n(r),c=(n(467),n(471),n(484)),d=n(457),u=n(2692),h=n.n(u);function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t))&&"[object Arguments]"!==Object.prototype.toString.call(t))return;var n=[],i=!0,o=!1,s=void 0;try{for(var a,r=t[Symbol.iterator]();!(i=(a=r.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){o=!0,s=t}finally{try{i||null==r.return||r.return()}finally{if(o)throw s}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var g=d.a.extend({defaults:{prompt:{},slides:[]}}),v=l.a.View.extend({className:"slideView",template:o.a.template('\n        <div class="moveContainer">\n            <button type="button" class="button upButton" aria-label="move slide up"></button>\n            <span class="index" aria-label=\'slide index\'></span>\n            <button type="button" class="button downButton" aria-label="move slide down"></button>\n        </div>\n        <div class="slideContent">\n            <div class="slideContentDiv"></div>\n        </div>\n        <div>\n            <button type="button" class="button deleteButton" aria-label="delete slide"></button>\n        </div>\n    '),bindings:{".text":{observe:"html",updateMethod:"html"},".index":{observe:"index",onGet:function(t){return t+1}},".upButton":{attributes:[{name:"disabled",observe:"first"}]},".downButton":{attributes:[{name:"disabled",observe:"last"}]},".slideContentDiv":{observe:["image","text","drawing"],updateMethod:"html",onGet:function(t){var e=b(t,3),n=e[0],i=e[1],o=e[2];if(n||o){var s=new c.a({el:this.$el.find(".slideContentDiv"),model:new a.a.Model({})});if(s.render(),n&&s.model.set({src:n}),o){var r=o.size,l=o.lines,d=o.sketchOptions;s.model.set({width:r.width,height:r.height,lines:l,options:d})}return s.$el.html()}if(i)return i},attributes:[{name:"class",observe:"photo"},{name:"aria-label",observe:"label"}],classes:{text:"text",image:"image"}}},triggers:{"click button.upButton":"button:up","click button.downButton":"button:down","click button.deleteButton":"button:delete"},onAttach:function(){this.stickit()}}),f=l.a.View.extend({template:o.a.template(h.a),className:"Slideshow scrollable",model:new g,regions:{slides:"#slidesRegion"},events:{"click .add":"onAddClick","click .submit":"onSubmitClick"},bindings:{".prompt":{observe:"prompt",updateMethod:"html",onGet:function(e){var n=e.text;return e.html||t("<div />").text(n).html()}}},initialize:function(t){this.slideCollectionView=this.slideCollectionView||new l.a.CollectionView({className:"slides",childView:v,collection:new a.a.Collection([]),initialize:function(t){this.listenTo(this.collection,"sync",this.render)}}),this.listenTo(this.model,"change",this.update,this)},update:function(){var t=this;this.slideCollectionView.collection.set(this.model.get("slides").map((function(e,n){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach((function(e){m(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},e,{index:n,first:0===n,last:n===t.model.get("slides").length-1})})))},onRender:function(){this.showChildView("slides",this.slideCollectionView)},onAttach:function(){this.stickit(),this.update()},onAddClick:function(t){return t.preventDefault(),this.triggerMethod("client:message",{action:"add"}),!1},onSubmitClick:function(t){return t.preventDefault(),this.triggerMethod("client:message",{action:"submit"}),!1},onChildviewChildviewButtonUp:function(t){this.triggerMethod("client:message",{index:t.model.get("index"),action:"up"})},onChildviewChildviewButtonDown:function(t){this.triggerMethod("client:message",{index:t.model.get("index"),action:"down"})},onChildviewChildviewButtonDelete:function(t){this.triggerMethod("client:message",{index:t.model.get("index"),action:"delete"})}})}).call(this,n(17))},2692:function(t,e){t.exports='<div id="controller" class="state-controller controller-content">\n    <div class="prompt">prompt</div>\n    <div id="slides">\n        <div id="slidesRegion" class="slidesRegion">\n            \n        </div>\n        <div class="add">\n            <button>ДОБАВИТЬ СЛАЙД</button>\n        </div>\n    </div>\n    <div class="submitRegion footer">\n        <button class="submit">ОТПРАВИТЬ</button>\n    </div>\n\n</div>'},2693:function(t,e,n){},2694:function(t,e,n){},2857:function(t,e,n){"use strict";n.r(e),n.d(e,"MainView",(function(){return W}));var i=n(466),o=n(22),s=n.n(o),a=n(41),r=n.n(a),l=n(31),c=n.n(l),d=n(457),u=n(2686),h=n.n(u),p=d.a.extend({defaults:{message:{text:null},classes:[],artifact:null,throttleDuration:1e3,maxVotes:100,countGroupName:null}}),m=c.a.View.extend({className:"",template:s.a.template('\n        <svg class="reactBar" viewBox="0 0 32 128" class="defs-only" xmlns="http://www.w3.org/2000/svg">\n            <rect class="reactRect"  x="14" y="8" width="4" height="112" />\n            <circle class="reactCircle" cx="16" cy="64" r="4" />\n        </svg>\n    '),model:new r.a.Model({value:0}),events:{mousedown:"handleRangeStart",touchstart:"handleRangeStart",mousemove:"handleRangeUpdate",touchmove:"handleRangeUpdate",mouseleave:"handleEnd",mouseup:"handleEnd",touchend:"handleEnd"},bindings:{".reactCircle":{attributes:[{name:"cy",observe:"value",onGet:function(t){return 120-112*t/100}}]}},onAttach:function(){this.stickit()},handleRangeStart:function(t){this.selected=!0,this.handleRangeUpdate(t)},handleRangeUpdate:function(t){if(this.selected){t.preventDefault(),-1!==["touchstart","touchmove"].indexOf(t.type)&&(t=t.originalEvent.touches[0]);var e=t.clientY,n=this.$el.find(".reactRect")[0].getBoundingClientRect(),i=Math.floor((n.y+n.height-e)/n.height*100),o=Math.min(Math.max(i,0),100);this.model.set("value",o),this.triggerMethod("range:update",o)}},handleEnd:function(){this.selected=!1}}),b=c.a.View.extend({className:"Reaction scrollable",template:s.a.template(h.a),model:new p,sessionModule:"vote",sessionName:" Vote",sessionMessage:{type:"vote"},bindings:{".reactPrompt":{observe:"prompt",onGet:function(t){return t.html}}},regions:{reactBar:".reactBarContainer"},initialize:function(){this.listenTo(this.model,"change",this.update,this),this.update(),this.currentVotes=0,this.reactionBarComponent=new m},update:function(){this.throttledSend=s.a.throttle(this.send,this.model.get("throttleDuration")||1e3)},onRender:function(){this.showChildView("reactBar",this.reactionBarComponent),this.stickit()},onChildviewRangeUpdate:function(t){this.throttledSend()},send:function(){this.currentVotes+=1,this.currentVotes>=this.model.get("maxVotes")||(this.sessionMessage.vote=this.value,this.model.get("isAudience")?this.triggerMethod("client:countGroup",{name:this.model.get("countGroupName"),vote:this.value}):this.triggerMethod("client:message",{action:"reaction",value:this.reactionBarComponent.model.get("value")}))}}),g=n(42),v=n.n(g),f=n(487),w=n(468),y=n(479),C=n(83),x=n(2687),O=n.n(x),B=n(555),k=c.a.View.extend({tagName:"div",className:"list",template:s.a.template(O.a),model:new r.a.Model({}),regions:{colorPaletteList:"#colorPaletteList"},triggers:{"click #undoButton":"choose:undo"},bindings:{},initialize:function(){this.ColorPaletteComponent=this.ColorPaletteComponent||new B.a({collection:new r.a.Collection,transparent:!0}),this.listenTo(this.model,"change",this.update,this)},update:function(){if(this.ColorPaletteComponent&&this.ColorPaletteComponent.collection.set(this.model.get("colors")),this.model.get("currentColor")){var t=this.model.get("currentColor");this.ColorPaletteComponent.collection.forEach((function(e){e.set("selected",e.get("hex")==t)}))}},onRender:function(){this.showChildView("colorPaletteList",this.ColorPaletteComponent),this.update()},onChildviewChildviewPaletteSelect:function(t){this.triggerMethod("choose:color",t)}}),P=n(2688),V=n.n(P),j=d.a.extend({defaults:s.a.extend({},f.a.prototype.model.defaults,{inputOptions:!1})}),S=f.a.extend({template:s.a.template(V.a),model:new j,bindings:s.a.extend({},f.a.prototype.bindings,{".textInput":{visible:!0,observe:"inputOptions"}}),events:s.a.extend({},f.a.prototype.events,{"click .info-button":"infoClick"}),regions:s.a.extend({},f.a.prototype.regions,{input:"#input"}),initialize:function(t){this.toolbarComponent=this.toolbarComponent||new k,this.inputComponent=this.inputComponent||new y.a,f.a.prototype.initialize.apply(this,[t])},update:function(){void 0!==this.model.get("drawId")&&this.model.get("drawId")!==this.getOption("drawId")&&this.inputComponent.clearInput(),f.a.prototype.update.apply(this),!this.cardShown&&this.model.get("popup")&&(this.cardShown=!0,this.infoClick());var t=this.model.get("inputOptions")||{};this.inputComponent.model.set(t)},sendInput:function(t){0!==this.sketchpadComponent.getLines().length?f.a.prototype.sendInput.apply(this,[t]):C.a.show(Error("You have to draw something!"))},onRender:function(){f.a.prototype.onRender.apply(this),this.showChildView("input",this.inputComponent)},infoClick:function(){var t=this;v.a.fire({html:"prompt",customClass:"inventionPrompt",padding:0,background:"none",showConfirmButton:!1,showCloseButton:!0,onOpen:function(){t.textView=new w.a({el:".inventionPrompt .swal2-content",model:new r.a.Model({}),template:s.a.template('<div class="text"></div>')}),t.textView.model.set("html",t.model.get("popup").html),t.textView.model.set("className","popupText Card ".concat(t.model.get("popup").className)),t.textView.render()}})},onChildviewInputText:function(t){var e=this;console.log("onChildviewInputText"),this.throttledSend||(this.throttledSend=s.a.throttle((function(t){var n={action:"write",entry:t},i=e.model.get("textKey");i&&(n.textKey=i,n.val=t),e.triggerMethod("client:message",n)}),500));var n=t.getSanitizedValue();this.throttledSend(n)},onChildviewButtonSubmit:function(){(0!==this.sketchpadComponent.getLines().length||this.model.get("allowEmpty"))&&this.buttonsComponent.children.forEach((function(t){t.model.set("disabled",!0)})),f.a.prototype.onChildviewButtonSubmit.apply(this)}}),M=n(575),I=n(576),D=n(2689),L=n.n(D),R=d.a.extend({defaults:s.a.extend({},M.a.prototype.model.defaults,{strings:{exitButton:"",switchButton:"",snapshotButton:"",cancelButton:"",confirmButton:"KEEP IT"}})}),E=I.a.extend({template:s.a.template(L.a),altOption:"avatar"}),T=M.a.extend({model:new R,initialize:function(t){this.cameraView=new E(t),M.a.prototype.initialize.apply(this,[t])},onChildviewCameraSnapshot:function(t){1===t.length?this.triggerMethod("client:message",{action:"camera",size:t[0].size,base64:t[0].picture}):this.triggerMethod("client:message",{action:"camera",pictures:t.map((function(t){return{size:t.size,base64:t.picture}}))})}}),z=n(469),N=n(467),A=n(471);function G(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function _(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var U=A.a.extend({template:s.a.template('\n        <button type="button" class=\'button choice-button btn btn-lg\'>\n            <div class="photo">\n            </div>\n            <div class="textinfo">\n                <div class="name"></div>\n                <div class="title"></div>\n            </div>\n        </button>\n        \n    '),bindings:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?G(Object(n),!0).forEach((function(e){_(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},A.a.prototype.bindings,{"button:first":{attributes:[{name:"disabled",observe:"disabled"},{name:"data-action",observe:"action",onGet:function(t){return t||"choose"}},{name:"data-index",observe:"index"},{name:"data-key",observe:"key"},{name:"style",observe:"color",onGet:function(t){if(!t)return"";var e="";return t.text&&(e+="color: ".concat(t.text,";")),t.background&&(e+="background-color: ".concat(t.background,";")),e}},{name:"type",observe:"action",onGet:function(t){return"submit"===t?"submit":"button"}}]},".photo":{attributes:[{name:"class",observe:"photo"}]},".name":{observe:"name",attributes:[{name:"style",observe:"hex",onGet:function(t){return"color: ".concat(t,";")}}]},".title":"title"})}),$=z.a.extend({className:"MakeSingleChoice Awards scrollable",initialize:function(t){this.choicesList=new N.a(_({childView:U},"childView",(function(t){return"text"===t.get("type")?w.a:U}))),z.a.prototype.initialize.apply(this,[t])},displayAudienceChoice:function(t){var e=this,n="Thank you.",i=t.map((function(t){var n=e.choicesList.children.find((function(e){return e.model.get("index")===t}));return n?n.model.get("name")||n.model.get("title"):""}));return void 0!==t&&this.model.get("strings")&&(n=this.model.get("strings").your_choice+i.join(", ")),{html:n}}}),K=n(474),J=K.a.extend({update:function(){K.a.prototype.update.apply(this),this.model.get("playerIsVIP")&&this.model.get("gameCanStart")||this.choicesListView.collection.unshift({type:"text",className:"logoImage"})}}),F=c.a.View.extend({template:s.a.template('\n        <div class="signpostView">\n            <div class="header"></div>\n            <div>\n            <button type="button" aria-label="choose previous signpost" class="float-left button leftButton"></button>\n            </div>\n            <div class="signpostText">\n            <span class="text"></span>\n            </div>\n            <div>\n            <button type="button" aria-label="choose next signpost" class="float-right button rightButton"></button>\n            </div>\n        </div>\n        <div class="cameraHeader">\n            <div class="cameraIcon"></div>\n        </div>\n    '),bindings:{".text":{observe:"html",updateMethod:"html"},".button":{observe:"disabled",visible:function(t){return!t}},".signpostText":{classes:{disabled:"disabled"}}},events:{"click button.leftButton":"onLeftButtonClick","click button.rightButton":"onRightButtonClick"},onAttach:function(){this.stickit()},onLeftButtonClick:function(t){this.trigger("button:signpost","left")},onRightButtonClick:function(t){this.trigger("button:signpost","right")}}),Y=z.a.extend({initialize:function(t){this.choicesList=new N.a({childView:function(t){return"signpost"===t.get("type")?F:"text"===t.get("type")?w.a:A.a}}),z.a.prototype.initialize.apply(this,[t])},onChildviewChildviewButtonSignpost:function(t){this.triggerMethod("client:message",{action:t})}}),H=n(2691);n(2693),n(2694);function q(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Q(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var W=i.a.extend({sessionModulePrefix:"JackboxTalks",parseBlob:function(t){return t.playerInfo=t.playerInfo||{},t.classes=t.classes||[],t.playerInfo.classes=t.playerInfo.classes||t.classes,t.playerInfo.username&&(t.playerInfo.username=t.playerInfo.username.toLowerCase()),"Lobby"===t.state&&(t.playerInfo.classes.push("LobbyTopBar"),t.choices=t.choices||[],t.choices=t.choices.map((function(t){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?q(Object(n),!0).forEach((function(e){Q(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t,{className:"toCamera"===t.action?"toCamera":t.className})}))),"MakeSingleChoice"===t.state&&-1!==t.classes.indexOf("ChooseSlideTypeToAdd")&&(t.block=!1),"EnterSingleText"===t.state&&(t.prompt.html&&(t.prompt.html=t.prompt.html.replace(/([^_])_([^_])/gi,'$1<span style="letter-spacing: -0.05em;">________</span>$2')),"NameAward"===t.entryId&&t.classes.push("NameAward")),"Camera"===t.state&&(t.playerInfo.hidden=!0),t},getGameLayout:function(t){switch(t){case"Awards":return this.setLayout($);case"Camera":return this.setLayout(T);case"Draw":return this.setLayout(S);case"Reaction":return this.setLayout(b);case"MakeSingleChoice":return this.setLayout(Y);case"Slideshow":return this.setLayout(H.a);case"Lobby":return this.setLayout(J);default:return-1}}})},484:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var i=n(22),o=n.n(i),s=n(41),a=n.n(s),r=n(31),l=n.n(r),c=(n(192),n(488)),d=l.a.View.extend({model:new a.a.Model({}),template:o.a.template("\n        <h1 class='title'>ImageView</h1>\n        <img class='imageData'>\n    "),bindings:{".title":{observe:"title",visible:!0,updateView:!0},".imageData":{attributes:[{name:"src",observe:["src","width","height","lines","options"],onGet:function(t){return t[0]?t[0]:this.setImageFromLines()}}]}},setImageFromLines:function(){var t=this.model.get("width")||640,e=this.model.get("height")||640,n=this.model.get("options"),i=this.model.get("lines")||[];if(!i.length||!n)return"";var o=new c.a(t,e,n);return o.setLines(i),o.canvas.toDataURL("image/png")},onRender:function(){this.stickit()}})}}]);
//# sourceMappingURL=24.de960b947f2a25968405.js.map