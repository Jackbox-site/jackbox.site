(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{1002:function(e,t){e.exports='<div id="player" class="playerTopBar">\n    <div class="trapezoid">\n        <svg class="root" version="1.1" xmlns="http://www.w3.org/2000/svg">\n            <defs>\n                <filter id="blur" x="0" y="0">\n                    <feGaussianBlur in="SourceGraphic" stdDeviation="7" />\n                </filter>\n            </defs>\n\n            <svg class="fill" viewBox="0 0 47 47" preserveAspectRatio="xMinYMid">\n                <path d="M -47 0 L 0 47 L 0 0 Z" />\n            </svg>\n            <svg class="fill" viewBox="0 0 47 47" preserveAspectRatio="xMaxYMid">\n                <path d="M 94 0 L 47 47 L 47 0 Z" />\n            </svg>\n            <svg class="fill" viewBox="0 0 1 47" preserveAspectRatio="none">\n                <path d="M 0 0 L 1 0 L 1 47 L 0 47 Z" />\n            </svg>\n\n            <g vector-effect="non-scaling-stroke" filter="url(#blur)">\n                <svg class="blur stroke angle" viewBox="0 0 47 47" preserveAspectRatio="xMinYMid">\n                    <path d="M -47 0 L 0 47" />\n                </svg>\n                <svg class="blur stroke angle" viewBox="0 0 47 47" preserveAspectRatio="xMaxYMid">\n                    <path d="M 94 0 L 47 47" />\n                </svg>\n                <svg class="blur stroke" viewBox="0 0 1 47" preserveAspectRatio="none">\n                    <path d="M 0 47 L 1 47" />\n                </svg>\n            </g>\n\n            <g vector-effect="non-scaling-stroke">\n                <svg class="stroke angle" viewBox="0 0 47 47" preserveAspectRatio="xMinYMid">\n                    <path d="M -47 0 L 0 47 L 2 47" />\n                </svg>\n                <svg class="stroke angle" viewBox="0 0 47 47" preserveAspectRatio="xMaxYMid">\n                    <path d="M 94 0 L 47 47 L 45 47" />\n                </svg>\n                <svg class="stroke" viewBox="0 0 1 47" preserveAspectRatio="none">\n                    <path d="M 0 47 L 1 47" />\n                </svg>\n            </g>\n\n            <svg class="shape" viewBox="0 0 65 47" preserveAspectRatio="xMinYMin">\n                <path d="M -65 0 L 0 0 L -40 40 L -65 40 Z" />\n            </svg>\n            <svg class="shape" viewBox="0 0 65 47" preserveAspectRatio="xMaxYMin">\n                <path d="M 65 0 L 130 0 L 130 40 L 105 40 Z" />\n            </svg>\n        </svg>\n    </div>\n    <div id="playericon" class="playerIcon"></div>\n    <div id="playername" class="playerName controller-text glitchable glitch-header"></div>\n    <div class="captain-indicator off glitchable glitch-text">CAPTAIN</div>\n</div>\n'},1003:function(e,t){e.exports='<div class="pressed-overlay">\n    <p class="pressed-message"></p>\n    <div class="pressed-meter">\n        <div class="pressed-meter-background"></div>\n        <div class="pressed-meter-foreground"></div>\n    </div>\n</div>\n\n<div class="the-button">\n    <button class="the-button-circle circle glitchable glitch-button">THE<br />BUTTON</button>\n</div>\n\n<div class="hurry-button">\n    <button class="hurry-button-circle circle glitchable glitch-hurry">HURRY!</button>\n</div>'},1004:function(e,t){e.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg">\n    <svg class="fill leaf-lg" viewBox="0 0 196 45" preserveAspectRatio="xMidYMid">\n        <path d="M 0 0 L 196 0 L 196 45 L 0 45 Z" />\n    </svg>\n    <svg class="fill leaf-sm" viewBox="0 0 100 45" preserveAspectRatio="xMidYMid">\n        <path d="M 0 0 L 100 0 L 100 45 L 0 45 Z" />\n    </svg>\n    <svg class="fill" viewBox="0 0 97.5 45" preserveAspectRatio="xMinYMid">\n        <path d="M 97.5 0 L 22.5 0 L 0 22.5 L 22.5, 45 L 97.5 45 Z" />\n    </svg>\n    <svg class="fill" viewBox="0 0 97.5 45" preserveAspectRatio="xMaxYMid">\n        <path d="M 0 0 L 75 0 L 97.5 22.5 L 75 45 L 0 45 Z" />\n    </svg>\n\n    <svg class="stroke leaf-lg" viewBox="0 0 196 45" preserveAspectRatio="xMidYMid">\n        <path d="M 0 0 L 196 0 M 0 45 L 196 45" vector-effect="non-scaling-stroke" />\n    </svg>\n    <svg class="stroke leaf-sm" viewBox="0 0 100 45" preserveAspectRatio="xMidYMid">\n        <path d="M 0 0 L 100 0 M 0 45 L 100 45" vector-effect="non-scaling-stroke" />\n    </svg>\n    <svg class="stroke" viewBox="-22.5 0 75 45" preserveAspectRatio="xMinYMid">\n        <path d="M 0 0 L 75 0 M 0 45 L 75 45" vector-effect="non-scaling-stroke" />\n    </svg>\n    <svg class="stroke" viewBox="22.5 0 75 45" preserveAspectRatio="xMaxYMid">\n        <path d="M 0 0 L 75 0 M 0 45 L 75 45" vector-effect="non-scaling-stroke" />\n    </svg>\n    <svg class="stroke angle" viewBox="-1 0 22.5 45" preserveAspectRatio="xMinYMid">\n        <path d="M 22.5 0 L 0 22.5 L 22.5 45" vector-effect="non-scaling-stroke" />\n    </svg>\n    <svg class="stroke angle" viewBox="1 0 22.5 45" preserveAspectRatio="xMaxYMid">\n        <path d="M 0 0 L 22.5 22.5 L 0 45" vector-effect="non-scaling-stroke" />\n    </svg>\n</svg>\n<div class="hack-icon glitchable glitch-element"></div>\n<div class="count"></div>\n<button type="button" class="button choice-button btn btn-lg glitchable glitch-text"></button>'},1005:function(e,t){e.exports='<div id="controller" class="state-controller controller-content">\n    <div id="prompt" class="prompt text col-xs-12 glitchable glitch-text glitch-element"></div>\n    <div class="symbols"></div>\n    <div>\n        <div class="button-group btn-group btn-block">\n            <svg version="1.1" xmlns="http://www.w3.org/2000/svg">\n                <svg class="fill leaf-lg" viewBox="0 0 195 45" preserveAspectRatio="xMidYMid">\n                    <path d="M 0 0 L 195 0 L 195 45 L 0 45 Z" />\n                </svg>\n                <svg class="fill leaf-sm" viewBox="0 0 100 45" preserveAspectRatio="xMidYMid">\n                    <path d="M 0 0 L 100 0 L 100 45 L 0 45 Z" />\n                </svg>\n                <svg class="fill" viewBox="0 0 97.5 45" preserveAspectRatio="xMinYMid">\n                    <path d="M 97.5 0 L 22.5 0 L 0 22.5 L 22.5, 45 L 97.5 45 Z" />\n                </svg>\n                <svg class="fill" viewBox="0 0 97.5 45" preserveAspectRatio="xMaxYMid">\n                    <path d="M 0 0 L 75 0 L 97.5 22.5 L 75 45 L 0 45 Z" />\n                </svg>\n            \n                <svg class="stroke leaf-lg" viewBox="0 0 195 45" preserveAspectRatio="xMidYMid">\n                    <path d="M 0 0 L 195 0 M 0 45 L 195 45" vector-effect="non-scaling-stroke" />\n                </svg>\n                <svg class="stroke leaf-sm" viewBox="0 0 100 45" preserveAspectRatio="xMidYMid">\n                    <path d="M 0 0 L 100 0 M 0 45 L 100 45" vector-effect="non-scaling-stroke" />\n                </svg>\n                <svg class="stroke" viewBox="-22.5 0 75 45" preserveAspectRatio="xMinYMid">\n                    <path d="M 0 0 L 75 0 M 0 45 L 75 45" vector-effect="non-scaling-stroke" />\n                </svg>\n                <svg class="stroke" viewBox="22.5 0 75 45" preserveAspectRatio="xMaxYMid">\n                    <path d="M 0 0 L 75 0 M 0 45 L 75 45" vector-effect="non-scaling-stroke" />\n                </svg>\n                <svg class="stroke angle" viewBox="-1 0 22.5 45" preserveAspectRatio="xMinYMid">\n                    <path d="M 22.5 0 L 0 22.5 L 22.5 45" vector-effect="non-scaling-stroke" />\n                </svg>\n                <svg class="stroke angle" viewBox="1 0 22.5 45" preserveAspectRatio="xMaxYMid">\n                    <path d="M 0 0 L 22.5 22.5 L 0 45" vector-effect="non-scaling-stroke" />\n                </svg>\n            </svg>\n            <button type="button" class="submit button choice-button btn btn-lg glitchable glitch-text">Submit</button>\n        </div>\n    </div>\n</div>'},1006:function(e,t){e.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 115.5 100">\n    <path d="M34.8,99h45.8c3.3,0,6.4-1.8,8.1-4.7l22.9-39.7c1.7-2.9,1.7-6.4,0-9.3L88.7,5.7C87,2.8,84,1,80.6,1H34.8c-3.3,0-6.4,1.8-8.1,4.7L3.9,45.3c-1.7,2.9-1.7,6.4,0,9.3l22.9,39.7C28.4,97.2,31.5,99,34.8,99z"/>\n</svg>\n<div class="symbol"></div>\n\n'},1007:function(e,t){e.exports='<div id="controller" class="state-controller controller-content">\n    <div id="prompt" class="prompt text col-xs-12 glitchable glitch-text glitch-element"></div>\n    <div id="symbolsRegion"></div>\n</div>'},1008:function(e,t){e.exports='<div id="controller" class="state-controller controller-content">\n    <div class="modal">\n        <div class="container">\n            <svg class="in" version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 130 90" preserveAspectRatio="xMaxYMid">\n                <polygon class="inner-0" points="113.7,56 99.8,56 92.8,68 99.8,80.1 113.7,80.1 120.7,68"/>\n                <polygon class="outer-0" points="118.4,47.8 95.1,47.8 83.4,68 95.1,88.2 118.4,88.2 130.1,68"/>\n                <polygon class="inner-1" points="113.7,8.1 99.8,8.1 92.8,20.2 99.8,32.2 113.7,32.2 120.7,20.2"/>\n                <polygon class="outer-1" points="118.4,0 95.1,0 83.4,20.2 95.1,40.4 118.4,40.4 130.1,20.2"/>\n                <polygon class="inner-2" points="73.1,32.1 59.2,32.1 52.3,44.1 59.2,56.2 73.1,56.2 80.1,44.1"/>\n                <polygon class="outer-2" points="77.8,23.9 54.5,23.9 42.8,44.1 54.5,64.3 77.8,64.3 89.5,44.1"/>\n                <polygon class="inner-3" points="34.4,57.8 20.5,57.8 13.5,69.8 20.5,81.9 34.4,81.9 41.3,69.8"/>\n                <polygon class="outer-3" points="39.1,49.6 15.8,49.6 4.1,69.8 15.8,90 39.1,90 50.7,69.8"/>\n            </svg>\n            <p class="title in">Bioscan Report</p>\n            <p class="prompt in">It is up to you to decide what to do with this information.</p>\n            <p class="result in">\n                <span class="username"></span> is <span class="role"></span>\n            </p>\n            <p class="help in">NOTICE: Aliens may want to consider lying.</p>\n        </div>\n    </div>\n</div>'},1009:function(e,t){e.exports='<button class="suspicion-button glitchable glitch-element">\n    <p class="name glitchable glitch-text"></p>\n    <p class="text glitchable glitch-text"></p>\n    <div id="sketchpadRegion" class="drawing glitchable glitch-sketch"></div>\n    <div class="suspicious-icon"></div>\n</button>\n<button class="censor-button"></button>'},1010:function(e,t){e.exports='<div id="controller" class="state-controller controller-content">\n    <div id="prompt" class="prompt text col-xs-12 glitchable glitch-element"></div>\n    <div id="responsesRegion"></div>\n</div>'},1011:function(e,t){e.exports='<button class="detail-button">\n    <div class="avatar"></div>\n    <p class="name glitchable glitch-text glitch-element"></p>\n    <p class="count glitchable glitch-text glitch-element"></p>\n</button>\n<button class="hack-button glitchable glitch-element"></button>'},1012:function(e,t){e.exports='<p class="prompt glitchable glitch-text"></p>\n<p class="text glitchable glitch-text"></p>\n<div id="sketchpadRegion" class="drawing glitchable glitch-sketch"></div>\n<div class="suspicion"></div>\n<button class="censor-button"></button>'},1013:function(e,t){e.exports='<p class="empty glitchable glitch-text glitch-element">NO RESPONSES TO INVESTIGATE</p>'},1014:function(e,t){e.exports='<div class="container">\n    <div class="details-header">\n        <div class="avatar"></div>\n        <p class="name glitchable glitch-text glitch-element"></p>\n        <p class="count glitchable glitch-text glitch-element"></p>\n    </div>\n    <button class="close-button glitchable glitch-element"></button>\n    <div class="bottom">\n        <p class="hack-message glitchable glitch-text"></p>\n        <div class="bottom-container">\n            <button class="hack-button glitchable glitch-element"></button>\n        </div>\n    </div>\n    <div id="responsesRegion"></div>\n</div>'},1015:function(e,t){e.exports='<div id="controller" class="state-controller controller-content">\n    <div id="prompt" class="prompt text col-xs-12 glitchable glitch-text glitch-element"></div>\n    <div id="playersRegion"></div>\n    <div id="detailRegion"></div>\n</div>'},1016:function(e,t){e.exports='<div class="warning"></div>\n<div class="space">\n    <div class="stars"></div>\n    <div class="stars"></div>\n    <div class="stars"></div>\n    <div class="stars"></div>\n    <div class="stars"></div>\n</div>'},1017:function(e,t){e.exports='<div id="the-button-region" class="TheButton"></div>'},1018:function(e,t,n){},2852:function(e,t,n){"use strict";n.r(t),n.d(t,"MainView",(function(){return Be}));var i=n(17),s=n.n(i),o=n(22),a=n.n(o),l=n(41),c=n.n(l),r=n(466),d=n(522),h=n.n(d),p=n(509),u=n(1002),v=n.n(u),g=p.a.extend({template:a.a.template(v.a),bindings:Object.assign(p.a.prototype.bindings,{".captain-indicator":{classes:{off:{observe:"isCaptain",onGet:function(e){return!e}}}}})}),m=n(31),f=n.n(m),b=n(1003),w=n.n(b),y=f.a.View.extend({tagName:"div",template:a.a.template(w.a),interval:null,intervalCount:0,bindings:{":el":{classes:{pressed:"isPressed"}},".pressed-message":"message",".pressed-overlay":{observe:"isPressed",visible:!0,classes:{"shake-light":{observe:"shake",onGet:function(e){return"light"===e}},"shake-heavy":{observe:"shake",onGet:function(e){return"heavy"===e}}}},".the-button":{classes:{disabled:"isButtonDisabled",hidden:"isButtonHidden",pressed:"isButtonPressed"}},".hurry-button":{classes:{disabled:"isHurryUpDisabled",hidden:"isHurryUpHidden"}}},events:{"mousedown .the-button-circle":"onButtonDown","touchstart .the-button-circle":"onButtonDown","mouseup .the-button-circle":"onButtonUp","touchend .the-button-circle":"onButtonUp","click .hurry-button-circle":"onHurryClick"},update:function(){var e=this.model.get("blob"),t=e&&e.playerInfo?e.playerInfo:{};this.model.set({isButtonDisabled:!t.pushTheButtonActive,isButtonHidden:!t.pushTheButtonVisible,isHurryUpDisabled:!t.hurryUpActive,isHurryUpHidden:!t.hurryUpVisible})},onRender:function(){this.stickit()},onButtonDown:function(){this.model.get("isButtonDisabled")||this.model.get("isButtonHidden")||this.interval||(this.startInterval(),this.model.set("isPressed",!0))},onButtonUp:function(){this.interval&&(this.killInterval(),this.model.set("isPressed",!1))},onHurryClick:function(){this.model.get("isHurryUpDisabled")||this.model.get("isHurryUpHidden")||this.triggerMethod("client:message",{action:"hurryUp"})},startInterval:function(){this.intervalCount=0,this.model.set("message","HOLD TO ACCUSE"),this.model.set("shake","none"),this.interval=setInterval(this.onInterval.bind(this),1e3)},onInterval:function(){return this.intervalCount+=1,1===this.intervalCount?(this.model.set("message","ARE YOU SURE?"),void this.model.set("shake","light")):2===this.intervalCount?(this.model.set("message","THIS IS SERIOUS!"),void this.model.set("shake","heavy")):(this.triggerMethod("client:message",{action:"pushthebutton"}),void this.killInterval())},killInterval:function(){this.model.set("isPressed",!1),clearInterval(this.interval),this.interval=null}}),k=n(469),x=n(467),C=n(471),M=n(1004),L=n.n(M),I=C.a.extend({template:a.a.template(L.a),bindings:Object.assign(C.a.prototype.bindings,{".button":{classes:{"additional-info":{observe:"numTimesTested",onGet:function(e){return void 0!==e}}}},".hack-icon":{observe:"isTrapped",visible:!0},".count":{observe:"numTimesTested",onGet:function(e){return 1===e?"Tested 1 time":"Tested ".concat(e," times")},classes:{hidden:{observe:"numTimesTested",onGet:function(e){return void 0===e}},untested:{observe:"numTimesTested",onGet:function(e){return 0===e}}}}}),handleClick:a.a.throttle(C.a.prototype.handleClick,500)}),R=k.a.extend({initialize:function(e){this.choicesList=this.choicesList||new x.a({childView:I,action:"choose",collection:new c.a.Collection}),k.a.prototype.initialize.apply(this,[e])},onRender:function(){k.a.prototype.onRender.apply(this),"ConfirmedIdentity"===this.model.get("choiceId")&&null===this.model.get("chosen")&&this.createConfirmDelay()},createConfirmDelay:function(){var e=this;this.model.get("choices")[0].html="CONFIRM IN 5",this.model.get("choices")[0].disabled=!0;var t=4,n=window.setInterval((function(){t?e.model.get("choices")[0].html="CONFIRM IN ".concat(t):(e.model.get("choices")[0].html="CONFIRM",e.model.get("choices")[0].disabled=!1,window.clearInterval(n),n=void 0),t-=1,e.update()}),1e3)}}),T=n(474),G=T.a.extend({initialize:function(e){this.choicesListView=new x.a({childView:I}),T.a.prototype.initialize.apply(this,[e])}}),B=n(475),A=B.a.extend({initialize:function(e){this.buttonsCollection=new c.a.Collection([{text:"submit"}]),this.buttonsComponent=new x.a({childView:I,block:!0,collection:this.buttonsCollection}),B.a.prototype.initialize.apply(this,[e])}}),V=n(468),S=n(457),N=n(1005),H=n.n(N),Y=f.a.View.extend({className:"Captain scrollable",template:a.a.template(H.a),model:new S.a,glyphMap:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","0","1","2","3","4"],events:{"click .submit":"onSubmitClick"},regions:{prompt:"#prompt"},bindings:{".symbols":{observe:"symbols",updateMethod:"html",onGet:"buildSymbols"},".button-group":{classes:{disabled:{observe:"symbols",onGet:function(e){return e[e.length-1].disabled}}}},".submit":{observe:"symbols",onGet:function(e){return e[e.length-1].html},attributes:[{name:"disabled",observe:"symbols",onGet:function(e){return e[e.length-1].disabled}}]}},initialize:function(){this.promptComponent=new V.a({model:new c.a.Model}),this.listenTo(this.model,"change",this.update,this)},update:function(){this.promptComponent.model.set(this.model.get("prompt")),this.stickit()},onRender:function(){this.showChildView("prompt",this.promptComponent),this.stickit()},onAttach:function(){this.update()},buildSymbols:function(e){for(var t="",n=0;n<e.length-1;n++)t+='<p class="symbol">'.concat(this.glyphMap[e[n].html],"</p>");return t},onSubmitClick:function(){return this.triggerMethod("client:message",{action:"submit"}),!1}}),O=n(83),z=n(1006),D=n.n(z),U=f.a.View.extend({className:"hex-button",tagName:"button",template:a.a.template(D.a),glyphMap:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","0","1","2","3","4"],bindings:{":el":{classes:{selected:"selected",disabled:"disabled",down:"down"}},".symbol":{observe:"html",onGet:function(e){return this.glyphMap[e]}}},initialize:function(){this.listenTo(this.model,"change",this.update,this)},update:function(){this.stickit()},onRender:function(){this.stickit()},onAttach:function(){this.update(),O.a.vibrate()}}),P=c.a.Model.extend({idAttribute:"html"}),E=c.a.Collection.extend({model:P}),Z=f.a.CollectionView.extend({className:"hex-grid",childView:U,collection:new E,events:{mousedown:"onGridDown",touchstart:"onGridDown",mouseup:"onGridUp",touchend:"onGridUp",click:"onGridClick"},layoutHexGrid:function(){var e=[[0,0],[1,0],[2,0],[0,1],[1,1],[2,1],[0,2],[1,2],[2,2],[1,3]],t=this.$(".hex-button"),n=this.$el.outerWidth()/2.5,i=n/1.1547,o=0;t.css({width:n,height:i}),t.each((function(t){var a=s()(this),l=e[t],c=l[0],r=l[1],d=.75*n*c,h=i*r;c%2==0&&(h+=i/2),o<h+i&&(o=h+i);var p=[];p.push([d+.25*n,h]),p.push([d+.75*n,h]),p.push([d+n,h+.5*i]),p.push([d+.75*n,h+i]),p.push([d+.25*n,h+i]),p.push([d,h+.5*i]),a.data("points",p),a.css({left:d,top:h})}))},onGridClick:function(e){var t=this;this.$(".hex-button").each((function(n,i){var o=s()(i).data("points");if(t.isPointInside([e.offsetX,e.offsetY],o)){if(t.collection.at(n).get("disabled"))return;t.triggerMethod("button:symbol",n)}}))},onGridDown:function(e){var t=this,n=e;n.offsetX||(n.offsetX=n.touches[0].pageX-n.touches[0].target.offsetLeft),n.offsetY||(n.offsetY=n.touches[0].pageY-n.touches[0].target.offsetTop),this.$(".hex-button").each((function(e,i){var o=s()(i).data("points");if(t.isPointInside([n.offsetX,n.offsetY],o)){var a=t.collection.at(e);if(a.get("disabled"))return;a.set({down:!0})}}))},onGridUp:function(){var e=this.collection.findWhere({down:!0});e&&e.set({down:!1})},isPointInside:function(e,t){for(var n=e[0],i=e[1],s=!1,o=0,a=t.length-1;o<t.length;a=o++){var l=t[o][0],c=t[o][1],r=t[a][0],d=t[a][1];c>i!=d>i&&n<(r-l)*(i-c)/(d-c)+l&&(s=!s)}return s}}),F=n(1007),W=n.n(F),X=f.a.View.extend({className:"Participant scrollable",template:a.a.template(W.a),model:new S.a,regions:{prompt:"#prompt",symbols:"#symbolsRegion"},initialize:function(){this.promptComponent=new V.a({model:new c.a.Model}),this.symbolsComponent=new Z,this.listenTo(this.model,"change",this.update,this)},update:function(){this.promptComponent.model.set(this.model.get("prompt")),this.symbolsComponent.collection.set(this.model.get("symbols")),this.symbolsComponent.layoutHexGrid(),this.stickit()},onRender:function(){this.showChildView("prompt",this.promptComponent),this.showChildView("symbols",this.symbolsComponent),this.stickit()},onAttach:function(){this.update()},onChildviewButtonSymbol:function(e){return this.triggerMethod("client:message",{action:"choose",choice:e}),!1}}),j=n(1008),$=n.n(j),K=f.a.View.extend({className:"Report scrollable",template:a.a.template($.a),model:new S.a,bindings:{".username":{observe:"player",onGet:function(e){return e.name}},".role":{observe:"player",onGet:function(e){return e.role}}},initialize:function(){this.listenTo(this.model,"change",this.update,this)},update:function(){this.stickit()},onRender:function(){this.stickit()},onAttach:function(){this.update(),O.a.vibrate()}}),J=n(507),q=n(1009),Q=n.n(q),_=f.a.View.extend({tagName:"div",className:"response",template:a.a.template(Q.a),events:{"click .suspicion-button":"onResponseClick","click .censor-button":"onCensorClick"},regions:{drawing:"#sketchpadRegion"},bindings:{":el":{classes:{selected:"selected",censored:"censored",disabled:"disabled",censorable:{observe:["canCensor","censorable"],onGet:function(){return this.model.get("canCensor")&&this.model.get("censorable")}}}},".name":"playerName",".text":{observe:"response",updateMethod:"html",onGet:function(e){return e},classes:{hidden:{observe:"type",onGet:function(e){return"Drawing"===e}},code:{observe:"type",onGet:function(e){return"CodeWord"===e}}}},".drawing":{classes:{hidden:{observe:"type",onGet:function(e){return"Drawing"!==e}}}}},initialize:function(){"string"!=typeof this.model.get("response")&&(this.sketchpadComponent=new J.a({model:new c.a.Model})),this.listenTo(this.model,"change",this.update,this)},update:function(){this.sketchpadComponent&&(this.sketchpadComponent.model.set("size",{width:240,height:320}),this.model.changed.censored&&this.onChildviewSketchpadReady()),this.stickit()},onAttach:function(){this.update()},onRender:function(){this.sketchpadComponent&&this.showChildView("drawing",this.sketchpadComponent),this.model.set("index",this.getOption("index")),this.stickit()},onChildviewSketchpadReady:function(){var e=this.model.get("response").map((function(e){return{thickness:6,color:e.color,points:e.points}}));this.sketchpadComponent.setLines(e)},onResponseClick:a.a.throttle((function(){this.triggerMethod("button:suspicious",this.model)}),1e3),onCensorClick:function(){this.triggerMethod("button:censor",this.model)}}),ee=c.a.Model.extend({idAttribute:"playerName"}),te=c.a.Collection.extend({model:ee}),ne=f.a.CollectionView.extend({className:"responses",childView:_,collection:new te,initialize:function(){this.listenTo(this.collection,"sync",this.render)},childViewOptions:function(e,t){return{index:t}}}),ie=n(1010),se=n.n(ie),oe=f.a.View.extend({className:"SuspicionVote scrollable",template:a.a.template(se.a),model:new S.a,regions:{prompt:"#prompt",responses:"#responsesRegion"},initialize:function(){this.promptComponent=new V.a({model:new c.a.Model}),this.responsesComponent=new ne,this.listenTo(this.model,"change",this.update,this)},update:function(){this.promptComponent.model.set(this.model.get("prompt"));var e=this.model.get("choices"),t=this.model.get("canCensor");e.map((function(e){var n=e;return n.canCensor=t,n})),this.responsesComponent.collection.set(e),this.stickit()},onRender:function(){this.showChildView("prompt",this.promptComponent),this.showChildView("responses",this.responsesComponent),this.stickit()},onAttach:function(){this.update(),O.a.vibrate()},onDestroy:function(){this.responsesComponent.collection.reset()},onChildviewChildviewButtonSuspicious:function(e){return!0===e.get("disabled")||(void 0===e.get("selected")?e.set({selected:!0}):e.set({selected:!e.get("selected")}),this.triggerMethod("client:message",{action:"choose",choice:{index:e.get("index"),value:!e.get("selected")}})),!1},onChildviewChildviewButtonCensor:function(e){return!0===e.get("censored")||!0!==e.get("censorable")||!0!==e.get("canCensor")||this.triggerMethod("client:message",{action:"censor",choice:{index:e.get("index")}}),!1}}),ae=n(1011),le=n.n(ae),ce=f.a.View.extend({className:"probe-player",template:a.a.template(le.a),events:{"click .detail-button":"onDetailClick","click .hack-button":"onHackClick"},bindings:{":el":{classes:{hacked:"isTrapped","animate-on":{observe:"isTrapped",onGet:function(e,t){return!0===t.view.model.changed.isTrapped}},"animate-off":{observe:"isTrapped",onGet:function(e,t){return!1===t.view.model.changed.isTrapped}}}},".avatar":{attributes:[{name:"class",observe:"playerInfo",onGet:function(e){return e.avatar}}]},".name":{observe:"playerInfo",onGet:function(e){return e?e.username:""}},".count":{observe:"responses",onGet:function(){return this.model.responsesText()},classes:{untested:{observe:"responses",onGet:function(e){return 0===e.length}}}},".hack-button":{classes:{active:{observe:"playerInfo",onGet:function(e){return!!e&&("hack"===this.model.hackState()||"unhack"===this.model.hackState())}},disabled:{observe:"playerInfo",onGet:function(e){return!!e&&"disabled"===this.model.hackState()}},other:{observe:"playerInfo",onGet:function(e){return!!e&&"hacked"===this.model.hackState()}},decoy:{observe:"playerInfo",onGet:function(e){return!!e&&"decoy"===this.model.hackState()}}},observe:"playerInfo",onGet:function(e){return e?this.model.hackLabel():""}}},initialize:function(){this.listenTo(this.model,"change",this.update,this)},update:function(){this.stickit()},onRender:function(){this.stickit()},onAttach:function(){this.update()},onDetailClick:function(){this.triggerMethod("button:show",this.model)},onHackClick:function(){this.triggerMethod("button:hack",this.model)}}),re=c.a.Model.extend({idAttribute:"username",responsesText:function(){var e=this.get("responses");return e?1===e.length?"Tested 1 time":"Tested ".concat(e.length," times"):""},captainTimeText:function(){var e=this.get("durationAsCaptain");if(void 0===e)return"";var t=Math.floor(e/60),n=Math.floor(e%60);return t<10&&(t="0".concat(t)),n<10&&(n="0".concat(n)),"".concat(t,":").concat(n)},isHacked:function(){return this.get("isTrapped")},hackedBy:function(){var e=this.get("trappedBy");return e?e.username:null},hackMessage:function(){return this.isHacked()?this.hackedBy()===this.get("playerName")?"Hacked By YOU":"Hacked by ".concat(this.hackedBy()):null},hackState:function(){return void 0===this.get("canTrap")||null===this.get("canTrap")?"decoy":this.isHacked()&&this.hackedBy()?this.hackedBy()===this.get("playerName")?"unhack":"hacked":this.get("canTrap")?"hack":"disabled"},hackLabel:function(){switch(this.hackState()){case"unhack":return"UNHACK";case"hacked":return"HACKED";case"decoy":return"";default:return"HACK"}}}),de=c.a.Collection.extend({model:re,getWithUsername:function(e){return this.find((function(t){return t.get("playerInfo").username===e}))}}),he=f.a.CollectionView.extend({tagName:"div",className:"probe-players",childView:ce,collection:new de,hasRendered:!1,onAttach:function(){this.hasRendered=!0},childViewOptions:function(e,t){return{index:t,hasRendered:this.hasRendered}}}),pe=n(1012),ue=n.n(pe),ve=f.a.View.extend({className:"response glitchable glitch-element",template:a.a.template(ue.a),events:{"click .censor-button":"onCensorClick"},regions:{drawing:"#sketchpadRegion"},bindings:{":el":{classes:{drawing:{observe:"type",onGet:function(e){return"Drawing"===e}},code:{observe:"type",onGet:function(e){return"CodeWord"===e}},censored:"censored",censorable:{observe:["canCensor","censorable"],onGet:function(){return this.model.get("canCensor")&&this.model.get("censorable")}}}},".prompt":"prompt",".text":{observe:"response",onGet:function(e){return"string"==typeof e?e:""}},".suspicion":{attributes:[{name:"style",observe:"suspicion",onGet:function(e){return"width: ".concat(20*e,"px;")}}]}},initialize:function(){"string"!=typeof this.model.get("response")&&(this.sketchpadComponent=new J.a({model:new c.a.Model})),this.listenTo(this.model,"change",this.update,this)},update:function(){this.sketchpadComponent&&(this.sketchpadComponent.model.set("size",{width:240,height:320}),this.model.changed.censored&&this.onChildviewSketchpadReady()),this.stickit()},onAttach:function(){this.update()},onRender:function(){this.sketchpadComponent&&this.showChildView("drawing",this.sketchpadComponent),this.stickit()},onChildviewSketchpadReady:function(){var e=this.model.get("response").map((function(e){return{thickness:6,color:e.color,points:e.points}}));this.sketchpadComponent.setLines(e)},onCensorClick:function(){this.triggerMethod("button:censor",this.model)}}),ge=n(1013),me=n.n(ge),fe=f.a.View.extend({className:"response active",template:a.a.template(me.a)}),be=f.a.CollectionView.extend({tagName:"div",className:"responses",collection:new c.a.Collection([]),childView:ve,emptyView:fe,initialize:function(){this.listenTo(this.collection,"sync",this.render)},childViewOptions:function(e,t){return{index:t}}}),we=n(1014),ye=n.n(we),ke=f.a.View.extend({className:"probe-detail",template:a.a.template(ye.a),hasOpened:!1,events:{click:"onCloseClick","click .close-button":"onCloseClick","click .container":"onContainerClick","click .hack-button":"onHackClick"},regions:{responses:"#responsesRegion"},bindings:{":el":{classes:{hacked:"isTrapped","animate-on":{observe:"isTrapped",onGet:function(e,t){return!0===t.view.model.changed.isTrapped&&this.hasOpened}},"animate-off":{observe:"isTrapped",onGet:function(e,t){return!1===t.view.model.changed.isTrapped&&this.hasOpened}}}},".avatar":{attributes:[{name:"class",observe:"playerInfo",onGet:function(e){return e.avatar}}]},".name":{observe:"playerInfo",onGet:function(e){return e?e.username:""}},".count":{observe:"responses",onGet:function(e){return e?"".concat(this.model.responsesText()," | ").concat(this.model.captainTimeText()," Captain Time"):""}},".hack-button":{observe:"playerInfo",onGet:function(e){return e?this.model.hackLabel():""},classes:{active:{observe:"playerInfo",onGet:function(e){return!!e&&("hack"===this.model.hackState()||"unhack"===this.model.hackState())}},disabled:{observe:"playerInfo",onGet:function(e){return!!e&&"disabled"===this.model.hackState()}},other:{observe:"playerInfo",onGet:function(e){return!!e&&"hacked"===this.model.hackState()}},decoy:{observe:"playerInfo",onGet:function(e){return!!e&&"decoy"===this.model.hackState()}}}},".hack-message":{observe:"playerInfo",onGet:function(e){return e?this.model.hackMessage():""},classes:{hidden:{observe:"isTrapped",onGet:function(e){return!e}}}}},initialize:function(){this.responsesComponent=new be,this.listenTo(this.model,"change",this.update,this)},update:function(){var e=this.model.get("responses"),t=this.model.get("canCensor"),n=this.model.get("playerIndex");e.map((function(e,i){var s=e;return s.canCensor=t,s.playerIndex=n,s.responseIndex=i,s})),this.responsesComponent.collection.set(e),this.stickit()},onRender:function(){this.showChildView("responses",this.responsesComponent),this.stickit()},onAttach:function(){this.update(),this.hasOpened=!0},onCloseClick:function(){var e=this;this.$el.addClass("closing"),setTimeout((function(){e.triggerMethod("button:close",e)}),300)},onContainerClick:function(e){e.stopImmediatePropagation()},onHackClick:function(){this.triggerMethod("button:hack",this.model)}}),xe=n(1015),Ce=n.n(xe),Me=f.a.View.extend({className:"Probe scrollable",template:a.a.template(Ce.a),model:new S.a,regions:{prompt:"#prompt",players:"#playersRegion",detail:"#detailRegion"},initialize:function(){this.playersComponent=null,this.model.unset("canTrap"),this.promptComponent=new V.a({model:new c.a.Model}),this.playersComponent=new he,this.listenTo(this.model,"change",this.update,this)},update:function(){this.promptComponent.model.set(this.model.get("prompt"));for(var e=this.model.get("players"),t=this.model.get("playerInfo").username,n=this.model.get("canCensor"),i=0;i<e.length;i++)e[i].username=e[i].playerInfo.username,e[i].playerName=t,e[i].canCensor=n,e[i].playerIndex=i;if(this.playersComponent.collection.set(e),this.detailComponent){var s=this.detailComponent.model.get("playerInfo").username,o=this.playersComponent.collection.getWithUsername(s);this.detailComponent.model=o,this.detailComponent.update()}this.stickit()},onRender:function(){this.showChildView("prompt",this.promptComponent),this.showChildView("players",this.playersComponent),this.stickit()},onAttach:function(){this.update(),O.a.vibrate()},onDestroy:function(){this.playersComponent.collection.reset()},onChildviewChildviewButtonShow:function(e){this.detailComponent=new ke({model:e}),this.showChildView("detail",this.detailComponent)},onChildviewButtonClose:function(){this.getChildView&&this.getChildView("detail")&&this.getChildView("detail").destroy()},onChildviewButtonHack:function(e){var t=e.hackState();"hack"!==t&&"unhack"!==t||this.triggerMethod("client:message",{action:"hack",choice:e.collection.indexOf(e)})},onChildviewChildviewButtonHack:function(e){this.onChildviewButtonHack(e)},onChildviewChildviewChildviewButtonCensor:function(e){return!0===e.get("censored")||!0!==e.get("canCensor")||this.triggerMethod("client:message",{action:"censor",choice:{playerIndex:e.get("playerIndex"),responseIndex:e.get("responseIndex")}}),!1}}),Le=f.a.View.extend({className:"GameOver",template:a.a.template('<div class="image"></div>'),model:new S.a,bindings:{":el":{classes:{alien:{observe:"winningRole",onGet:function(e){return"Alien"===e}},human:{observe:"winningRole",onGet:function(e){return"Human"===e}}}}},initialize:function(){this.listenTo(this.model,"change",this.update,this)},update:function(){this.stickit()},onRender:function(){this.stickit()},onAttach:function(){this.update()}}),Ie=n(1016),Re=n.n(Ie),Te=n(1017),Ge=n.n(Te),Be=(n(1018),r.a.extend({sessionModulePrefix:"Push The Button",template:a.a.template("".concat(Re.a).concat(h.a).concat(Ge.a)),glitchTimer:null,regions:Object.assign(r.a.prototype.regions,{button:"#the-button-region"}),bindings:{":el":Object.assign(r.a.prototype.bindings,{classes:{"phase-none":{observe:"visualIntensity",onGet:function(e){return"none"===e}},"phase-easy":{observe:"visualIntensity",onGet:function(e){return"easy"===e}},"phase-medium":{observe:"visualIntensity",onGet:function(e){return"medium"===e}},"phase-hard":{observe:"visualIntensity",onGet:function(e){return"hard"===e}}}})},initialize:function(e){this.playerTopBar=new g,this.buttonView=new y({model:new c.a.Model}),r.a.prototype.initialize.apply(this,[e])},update:function(e,t){r.a.prototype.update.apply(this,[e,t]),this.buttonView.model=this.model,this.buttonView.update(),this.updateVisualIntensity(),this.model.changed.visualIntensity&&this.updateGlitches()},getGameLayout:function(e){switch(e){case"MakeSingleChoice":return this.setLayout(R);case"Lobby":return this.setLayout(G);case"EnterSingleText":return this.setLayout(A);case"AnalyzeCaptain":return this.setLayout(Y);case"AnalyzeParticipant":return this.setLayout(X);case"AnalysisReport":return this.setLayout(K);case"SuspicionVote":return this.setLayout(oe);case"Probe":return this.setLayout(Me);case"GameOver":return this.setLayout(Le);default:return-1}},onAttach:function(){r.a.prototype.onAttach.apply(this),this.showChildView("button",this.buttonView)},parseBlob:function(e){var t=e;if("Draw"===t.state&&this.setDrawingProperties(t),"GameOver"===t.state&&delete t.playerInfo,"AnalyzePlayer"===t.state){var n=t.playerInfo;n?n.isCaptain?t.state="AnalyzeCaptain":t.state="AnalyzeParticipant":t.state="Logo"}return t},setDrawingProperties:function(e){var t=e;t.colors=["#000000"],t.defaultIndex=0,t.thicknesses=[4],t.sketchOptions={minThickness:.3,thicknessFactor:0,smoothingFactor:.55,thicknessSmoothingFactor:.6,dotMultiplier:2,tipTaperFactor:.7}},updateVisualIntensity:function(){var e=this.model.get("blob");e&&e.gameInfo&&e.gameInfo.visualIntensity&&"Lobby"!==e.state?this.model.set("visualIntensity",e.gameInfo.visualIntensity):this.model.set("visualIntensity","none")},updateGlitches:function(){this.stopGlitches(),"medium"!==this.model.get("visualIntensity")?"hard"!==this.model.get("visualIntensity")?this.glitchTimer=setInterval(this.onGlitchTimer.bind(this),1e4):this.glitchTimer=setInterval(this.onGlitchTimer.bind(this),1500):this.glitchTimer=setInterval(this.onGlitchTimer.bind(this),3e3)},onGlitchTimer:function(){var e,t=Math.random(),n=this.model.get("visualIntensity");if(!(t>.5)){var i=this.$(".glitchable");switch(n){case"hard":e=a.a.random(.2*i.length,.3*i.length);break;case"medium":e=a.a.random(.02*i.length,.1*i.length);break;default:e=a.a.random(.01*i.length,.02*i.length)}for(var o=a.a.sample(i,e),l=0;l<=e;l++){var c="glitch-".concat(a.a.random(0,5)),r=s()(o[l]);r.attr("data-text",r.text()).addClass("glitched").addClass(c)}setTimeout((function(){i.removeClass("glitched glitch-0 glitch-1 glitch-2 glitch-3 glitch-4 glitch-5").removeAttr("data-text")}),a.a.random(250,1500))}},stopGlitches:function(){this.glitchTimer&&clearInterval(this.glitchTimer)}}))}}]);
//# sourceMappingURL=12.78efb3d841faf840b7ba.js.map